# =====================================================
# CONFIGURAÇÃO DE BACKUP RAILWAY - PROJECT 1
# Portal Dr. Marcio - Sistema de Backup Automático
# =====================================================

# === CONFIGURAÇÕES DE BACKUP ===

# Project 1 - Backup Database URL
# Após criar PostgreSQL no Project 1, cole a URL aqui:
DATABASE_URL_BACKUP=

# Configurações de backup
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=./backups

# === CONFIGURAÇÕES ATUAIS (NÃO ALTERAR) ===
# Project 3 - Produção (Atual)
DATABASE_URL=postgresql://postgres:ydKZVqeDdnQVSPOsAkcKJhoTHLsOEqxu@maglev.proxy.rlwy.net:39156/railway

# === INSTRUÇÕES DE CONFIGURAÇÃO ===
#
# PASSO 1: Configurar Project 1 no Railway
# ----------------------------------------
# 1. Acesse Railway Dashboard
# 2. Entre no Project 1 
# 3. Clique em "Add Service"
# 4. Selecione "PostgreSQL"
# 5. Aguarde a criação (2-3 minutos)
#
# PASSO 2: Obter URL do Project 1
# -------------------------------
# 1. No Project 1, clique no serviço PostgreSQL
# 2. Vá na aba "Variables"
# 3. Copie o valor de DATABASE_URL
# 4. Cole acima em DATABASE_URL_BACKUP
#
# PASSO 3: Configurar Project 2 (Desenvolvimento)
# ------------------------------------------------
# 1. Acesse Project 2
# 2. Add Service → PostgreSQL
# 3. Copie a URL para DATABASE_URL_DEV (opcional)
#
# FORMATO DA URL:
# postgresql://usuario:senha@host:porta/database
#
# EXEMPLO:
# DATABASE_URL_BACKUP=postgresql://postgres:abcd1234@viaduct.proxy.rlwy.net:12345/railway
#
# === BENEFÍCIOS APÓS CONFIGURAÇÃO ===
#
# ✅ Backup automático a cada 6 horas
# ✅ Retenção de 30 dias
# ✅ Disaster recovery < 1 hora  
# ✅ Compliance LGPD/CFM
# ✅ Verificação de integridade
# ✅ Monitoramento automático
# ✅ Limpeza automática de arquivos antigos
# ✅ Logs detalhados
#
# === COMANDOS ÚTEIS ===
#
# Executar sistema de backup:
# node railway-backup-system.js
#
# Backup manual:
# node -e "const BackupSystem = require('./railway-backup-system.js'); const bs = new BackupSystem(); bs.backupManual();"
#
# Verificar status:
# node -e "const BackupSystem = require('./railway-backup-system.js'); const bs = new BackupSystem(); bs.exibirStatus();"

# === CONFIGURAÇÕES OPCIONAIS ===

# Project 2 - Desenvolvimento (Opcional)
DATABASE_URL_DEV=

# Configurações de monitoramento
BACKUP_HEALTH_CHECK_INTERVAL=3600000
BACKUP_STATUS_INTERVAL=1800000

# Configurações de log
BACKUP_LOG_LEVEL=INFO
BACKUP_LOG_FILE=./backup.log

# Notificações (futuro)
BACKUP_ALERT_EMAIL=clinica@mscartozzoni.com.br
BACKUP_WEBHOOK_URL=
